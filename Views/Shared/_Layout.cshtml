@{
    var path = Context.Request.Path.Value ?? "";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
  

</head>
<body>

    <div class="SuperContainer min-h-screen grid [grid-template-rows:auto_1fr_auto] md:[grid-template-columns:280px_1fr] [grid-template-columns:auto_1fr] [grid-template-areas:'header_header'_'sidebar_main'_'footer_footer']">
        
        <header class="[grid-area:header]"></header>

        <aside class="[grid-area:sidebar] rounded-tr-lg rounded-br-lg flex flex-col shadow-2xl">

            <div class="flex items-center justify-between md:px-7 px-3 py-2 mb-2 gap-2 cursor-pointer hover:text-blue-500 text-sm md:text-base md:font-bold font-medium">
                <span class="hidden md:block text-xl">VideoClub</span>
            </div>

            <div class="flex-1 py-8 md:px-5 px-3">
                <ul class="flex flex-col gap-1 h-full">
                    
                    <a asp-controller="Dashboard" asp-action="Index">
                        <li class="flex justify-between py-2 items-center 
                        md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 
                        hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all 
                        duration-300 text-sm md:text-base md:font-bold font-medium mb-4 
                         scale-[1.02] rounded-lg
                        @(path.StartsWith("/Dashboard") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "")">
                            <span class="hidden md:block">Dashboard</span>
                        </li>
                    </a>

                    <div class="text-gray-500 font-medium font-mono">
                        <span>Catalogo</span>
                    </div>

                    <a asp-controller="TiposArticulos" asp-action="Index">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.StartsWith("/TiposArticulos") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Tipos de Articulos</span>
                        </li>
                    </a>

                    <a asp-controller="Generos" asp-action="Index">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.StartsWith("/Generos") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Géneros</span>
                        </li>
                    </a>

                    <a asp-controller="Idioma" asp-action="Index">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.StartsWith("/Idioma") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Idiomas</span>
                        </li>
                    </a>

                    <a asp-controller="Elenco" asp-action="Index">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.StartsWith("/Elenco") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Elenco</span>
                        </li>
                    </a>

                    <a asp-controller="Articulos" asp-action="Index">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.StartsWith("/Articulos") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Articulos</span>
                        </li>
                    </a>

                    <div class="mt-4 text-gray-500 font-medium font-mono">
                        <span>Operaciones</span>
                    </div>

                    <!-- Enlaces Deshabilitados: Falta Controller -->
                    <a href="/Clientes">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.Equals("/Clientes") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Clientes</span>
                        </li>
                    </a>

                    <a href="/Empleados">
                        <li class="
                        flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                        @(path.Equals("/Empleados") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                            <span class="hidden md:block">Empleados</span>
                        </li>
                    </a>

                    @if (User?.Identity?.IsAuthenticated == true)
                    {
                        <form asp-controller="Account" asp-action="Logout" method="post" id="logoutForm" class="mt-auto">
                            <button type="submit" class="w-full text-left">
                                <li class="flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-red-500 hover:shadow-xl hover:bg-red-50 hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium text-red-600">
                                    <span class="hidden md:block">Cerrar Sesión</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd" />
                                    </svg>
                                </li>
                            </button>
                        </form>
                    }
                    else
                    {
                        <a href="/Account/Login">
                             <li class="
                            flex justify-between py-2 items-center md:px-2 cursor-pointer hover:rounded-lg hover:text-blue-500 hover:shadow-xl hover:bg-[#EEF2FF] hover:scale-[1.02] transition-all duration-300 text-sm md:text-base md:font-bold font-medium
                            @(path.Equals("/Account/Login") ? "bg-blue-500 text-white shadow-xl bg-[#EEF2FF] scale-[1.02] rounded-lg" : "") ">
                                <span class="hidden md:block">Iniciar Sesión</span>
                            </li>
                        </a>
                    }
                </ul>
            </div>

        </aside>
        
        <main class="[grid-area:main] bg-gray-100">
            <div class="relative h-full rounded-lg p-4">
                
                @RenderBody()
            </div>
        </main>
        
        <!-- <footer class="[grid-area:footer] bg-black text-white text-center">
            &copy; 2026 VideoClub
        </footer> -->
    </div>

    @RenderSection("Scripts", required: false)
</body>
</html>